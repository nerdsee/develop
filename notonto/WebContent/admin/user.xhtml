<html xmlns="http://www.w3c.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">
<f:view locale="#{brainSession.currentLocale}">
	<f:loadBundle basename="org.stoevesand.brain.i18n.MessagesBundle" var="bundle" />
	<h:head>
		<title>Notonto - Administration</title>
		<ui:include src="/snippets/inc_head.xhtml" />
	</h:head>
	<h:body id="body" initialFocusId="ff1:it1">
		<ui:include src="/snippets/headline.xhtml" />
		<div id="main">
			<p:layout>				<p:layoutUnit id="sidebar" position="east" size="260">
				<ui:include src="/snippets/sidemenu_admin.xhtml" />
			</div>
			<div id="content" rendered="#{auth.isLoggedIn and BrainSession.currentUser.isAdmin}">
				<!-- ### CONTENT-START ### -->
				<h1>
					<h:outputText value="User" />
				</h1>
				<h:form>
					<p:dataTable class="tstd" id="userlist" value="#{brainSystem.userList}" var="user" rows="#{brainSession.numRows}" rowIndexVar="rowIndex" first="#{brainSession.pageIndex}" columnClasses="w200 atop font1,w100 atop font1,w200 atop font9,w100 atop" sortable="true"
						sortColumn="#{brainSession.sortColumn}">
						<p:column>
							<f:facet name="header">
									<h:outputText value="Benutzername" />
							</f:facet>
							<h:outputText value="#{user.name}" />
						</p:column>
						<p:column>
							<f:facet name="header">
									<h:outputText value="Score" />
							</f:facet>
							<h:outputText value="#{user.score}" />
						</p:column>
						<p:column>
							<f:facet name="header">
								<h:outputText value="login/reg" />
							</f:facet>
							<h:outputText value="#{user.lastLoginDate}">
								<f:convertDateTime dateStyle="short" timeStyle="medium" type="both" />
							</h:outputText>
						</p:column>
						<p:column>
							<f:facet name="header">
								<h:outputText value="" />
							</f:facet>
							<h:panelGroup>
							</h:panelGroup>
						</p:column>
					</p:dataTable>
					<p:dataScroller for="userlist" fastStep="10" pageCountVar="pageCount" pageIndexVar="pageIndex" class="scroller" paginator="true" paginatorMaxPages="9" paginatorTableClass="paginator" firstRowIndexVar="friv" paginatorActiveColumnStyle="font-weighp:bold;" immediate="true">
						<f:facet name="first">
							<p:graphicImage url="/images/arrow-first.gif" border="1" />
						</f:facet>
						<f:facet name="previous">
							<p:graphicImage url="/images/arrow-previous.gif" border="1" />
						</f:facet>
						<f:facet name="next">
							<p:graphicImage url="/images/arrow-next.gif" border="1" />
						</f:facet>
						<f:facet name="last">
							<p:graphicImage url="/images/arrow-last.gif" border="1" />
						</f:facet>
					</p:dataScroller>
				</h:form>
				<!-- ### CONTENT-END ### -->
			</div>
		</div>
	</h:body>
</f:view>
</html>